<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Obtain OEIS Terms from Sage</title>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
  </head>
  <body>

<h2>Use the Single Cell Sage Server to get terms of your OEIS sequence</h2>
<script>
function getTerms() {
  var code = document.getElementById("oeis_code_box").value;
  var term1 = document.getElementById("term1_box").value;
  var term2 = document.getElementById("term2_box").value;
  var outval = "a = sloane." + code + "; " + "[a(_) for _ in range(" + term1 + "," + term2 + ")]";
  document.getElementById("sage_call").innerHTML = outval;
  sagecell.makeSagecell({inputLocation: 'div.oeis', code: outval, evalButtonText: 'Get Terms', outputLocation: 'div.output'});
}
function copyOut() {
// This stuff doesn't work.
// I don't know how to extract the response text.
// See https://ask.sagemath.org/question/34443/show-sage-results-in-a-webpage-as-string-not-as-sagecell-box/
// See https://github.com/sagemath/sagecell/blob/master/doc/embedding.rst
  var outlist = document.getElementsByClassName("sagecell_sessionOutput").innerHTML;
  var outlist = document.getElementsByTagName("pre").innerHTML;
  var outlist = document.querySelector(div.sagecell_sessionOutput).innerHTML;
  var outlist = document.querySelector(pre).innerHTML;
  document.getElementById("show_place").innerHTML = outlist;
}
</script>

<p>
  Enter the OEIS numbers:
  <input type="text" id="oeis_code_box" name="oeis_code" value="A000005">
  Which terms to start at?
  <input type="text" id="term1_box" name="term1" value="10">
  Which term to finish at?
  <input type="text" id="term2_box" name="term2" value="20">
</p>

<p>
  Click the button to generate a Single Cell Sage Server box.
  <button onclick="getTerms()">Generate Sage Code</button>
</p>

<div class="oeis"><script type="text/x-sage" id="sage_call"></script></div>

<div class="output" id="output_list"></div>

<p>
  Click the button to copy the result.
  <button onclick="copyOut()">copy result</button>
</p>

<p id="show_place"></p>

  </body>
</html>
